%----------------------------------------------------------------------------
\section{A feladat rövid összefoglalása}
%----------------------------------------------------------------------------
A megvalósított feladat egy kétdimenziós, oldalnézetes lövöldözõs játék Android operációs rendszer alatt, mely a következõképpen mûködik.

Egyszerre két játékos játszik egymás ellen, összesen fejenként három életponttal, websocket alapú kapcsolaton keresztül. A játék célja az ellenfél életpontjainak lenullázása. A játék elindításakor a felhasználó egy felugró menüpontban adhatja meg a csatlakozni kívánt szerver IP címét, illetve lehetõsége van ezen kívül az alapvetõ beállításokat változtatni a játék megkezdése elõtt. Tehát a vezérlési módok és az egyéni ízlésnek megfelelõ háttér kiválasztására, valamint a háttérzene ki-be kapcsolására.  A beállítások elvégzésével és a csatlakozás gomb megnyomásával a felhasználó csatlakozik a megadott szerverhez. A beállításokat az alkalmazás két indítása között is megõrzi. Amennyiben mindkét játékos sikeresen csatlakozott, a játék egy visszaszámlálást követõen elkezdõdik.

A beállítások alkalmával megadott vezérlõ módok alapján vagy gombokkal vagy joystick segítségével van lehetõség a karakter mozgatására, az ellenfél megsebzésére pedig egy dedikált nyomógomb szolgál. A nyomógomb lenyomásakor egy számláló indul el, mely néhány másodpercig blokkolja az újratüzelést, ezzel megakadályozva sorozatos támadást. A játék dinamikájának kiszélesítésének érdekében a blokkoláson kívül akadályok is elhelyezésre kerülnek a pályán, amelyekre akár fel is lehet ugorni a karakterrel.

%----------------------------------------------------------------------------
\section{A program felépítése}
%----------------------------------------------------------------------------
Az programot alkotó osztályok az alábbi képen látható struktúra szerint épülnek fel.

\begin{figure}[!ht]
%\hspace*{-2.5cm}
\centering
\includegraphics[width=80mm,keepaspectratio]{figures/package_structure.png}
\caption{Az osztályok struktúrája}
\label{fig:package_structure}
\end{figure}

A fõ package-en belül található:

\begin{itemize}
  \item a $MainActivity$,
  \item a beállításokért felelõs $SettingsActivity$,
  \item a fõmenüt megjelenítõ $GameMenuActivity$,
  \item a felhasználói bemeneteket kezelõ $ControlInputHandler$,
	\item a $GameThread$ osztály, amely egy szálban megfelelõ idõközönként kirajzoltatja az aktuális nézetet,
	\item a $GameSurface$ osztály, amely a kirajzolást és a játék logikáját valósítja meg az egyes játék objektumok állapotának frissítésével,
	\item a $CountDown$ osztály, amely egy lebegõ dialógus ($Dialog$) segítségével egy visszaszámlálót valósít meg mielõtt a játék elkezdõdne,
	\item és az absztrakt $Constants$ osztály, amelyben az alkalmazáson belül több helyen használt konstansokat tárolja.
\end{itemize}

További három package-et találunk a források között, amelyek egyrészt a grafikus megjelenítés, a hálózati kommunikáció és az audió effektek szempontjából lényegesek:

\begin{itemize}
  \item a $graphical\_stuff$-ban találhatók a játékosok karaktereit, az akadályokat és a lövedékeket reprezentáló osztály leírások,
  \item a $network\_stuff$-ban a hálózatkezelésért felelõs socket osztály, a program indulásakor használatosa a hálóati kapcsolat kiépítéséért felelõs osztály és egy külön szálat futtató osztály található. Ez utóbbi periódikusan küldi át a lényeges információkat a szerver felé.
  \item a$sound\_stuff$-ban a háttérzenét kezelõ és a különbözõ hangeffekteket lejátszó osztályok vannak.
\end{itemize}

\section{A nézetek}

\begin{figure}[!ht]
\centering
\includegraphics[width=80mm,keepaspectratio]{figures/layouts.png}
\caption{Az activity-kben használt layoutok}
\label{fig:layouts}
\end{figure}

\section{MainActivity}
A program indulásakor a MainActivity-bõl fog egy példány létrejönni. Ennek az osztálynak a nézetében ($activity\_main$ található 
\begin{itemize}
	\item egy $LinearLayout$, amelyre a játék elemeit rajzoljuk ki,
	\item egy $LinearLayout$, amely a joystick alapú irányításnál fogja a $Touch Event$eket "elkapni",
	\item valamint 4 gomb, amelyek a lövésért és a 3 irányú mozgásért felelõsek.
\end{itemize}

A bemenõ eseményeket egy külön osztályban kezeljük, ezért a gombokra és a joystick nézetére olyan $OnTouchListener$t hozunk létre, amely egy függvényhívással továbbadja az eseményeket a $ControlInputHandler$ osztálynak.

Létrehozzuk a $GameSurface$ osztályt (,amely a $SurfaceView$ osztályból származik), és játék felületét megtestesítõ $LinearLayout$ nézetéhez hozzáadjuk.

Ezután elindítjuk a csatlakozásért felelõs nézetet egy $ConnectorClass$ formájában, majd várjuk a felhasználói interakciót.


\section{GameSurface}











